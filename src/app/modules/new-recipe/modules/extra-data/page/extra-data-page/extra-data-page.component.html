<p class="descriptionStep">
  Indica el tiempo, dificultad, precio e ingredientes de la receta:
</p>
<form action="" [formGroup]="formExtra" (submit)="submit()" class="form">
  <h2 class="subtitle">Tiempo</h2>
  <div class="timeContainer">
    <p class="duration">Insertar duraci√≥n</p>
    <div class="clockContainer">
      <div>
        <input type="number" id="hours" formControlName="hours" />
        <label for="hours">Horas</label>
      </div>
      <p class="dotsTime">:</p>
      <div>
        <input type="number" id="minutes" formControlName="minutes" max="59" />
        <label for="minutes">Minutos</label>
      </div>
    </div>
  </div>

  <h2 class="subtitle">Dificultad</h2>
  <div class="tagContainer">
    <input
      type="button"
      value="Facil"
      (click)="onChangeOption('difficulty', 'facil')"
      [ngClass]="{ activeInput: difficulty === 'facil' }"
    />
    <input
      type="button"
      value="Media"
      (click)="onChangeOption('difficulty', 'medio')"
      [ngClass]="{ activeInput: difficulty === 'medio' }"
    />
    <input
      type="button"
      value="Dificil"
      (click)="onChangeOption('difficulty', 'dificil')"
      [ngClass]="{ activeInput: difficulty === 'dificil' }"
    />
  </div>

  <h2 class="subtitle">Precio</h2>
  <div class="tagContainer">
    <input
      type="button"
      value="$"
      (click)="onChangeOption('price', '$')"
      [ngClass]="{ activeInput: price === '$' }"
    />
    <input
      type="button"
      value="$$-$$$"
      (click)="onChangeOption('price', '$$-$$$')"
      [ngClass]="{ activeInput: price === '$$-$$$' }"
    />
    <input
      type="button"
      value="$$$$"
      (click)="onChangeOption('price', '$$$$')"
      [ngClass]="{ activeInput: price === '$$$$' }"
    />
  </div>

  <label for="tool" class="subtitle"
    >Agrega utensilios a la receta</label
  >
  <div class="tagInputContainer">
    <input
      type="text"
      id="tool"
      formControlName="tool"
      placeholder="Sarten, batidora, olla presion..."
      (keydown.enter)="$event.preventDefault()"
    />
    <input
      type="button"
      value="+"
      (click)="addTools()"
      [disabled]="!formExtra.value.tool"
    />
  </div>

  <div class="tagsContainer">
    <p (click)="deleteTag(tool)" *ngFor="let tool of tools">
      {{ tool }}
    </p>
  </div>

  <h2 class="subtitle">Agregar ingredientes</h2>
  <div class="ingredientInfoContainer">
    <div>
      <label for="quantity">Cantidad</label>
      <input
        type="number"
        id="quantity"
        min="1"
        formControlName="ingredientQuantity"
        (keydown.enter)="$event.preventDefault()"
      />
    </div>
    <div>
      <label for="measure">Medida</label>
      <select id="measure" formControlName="ingredientUnit">
        <option value="" selected disabled hidden>Seleccionar</option>
        <option value=" ">unidad</option>
        <option value="gr">gramo</option>
        <option value="mg">miligramo</option>
        <option value="kg">kilogramo</option>
        <option value="mL">mililitro</option>
        <option value="L">litro</option>
        <option value="cucharada">cucharada</option>
        <option value="taza">taza</option>
        <option value="lata">lata</option>
        <option value="pizca">pizca</option>
        <option value="libra">libra</option>
      </select>
    </div>
  </div>

  <label for="ingredient" class="ingredientLabel">Ingrediente</label>
  <div class="ingredienContainer">
    <input
      type="text"
      id="ingredient"
      formControlName="ingredientName"
      (keydown.enter)="$event.preventDefault()"
    />
    <input
      type="button"
      value="+"
      (click)="addIngredient()"
      (keydown.enter)="addIngredient()"
      [disabled]="
        !formExtra.value.ingredientQuantity ||
        !formExtra.value.ingredientName ||
        !formExtra.value.ingredientUnit
      "
    />
  </div>

  <h2 class="subtitle ingredientListTitle" *ngIf="ingredients.length">
    Lista de Ingredientes
  </h2>
  <ul *ngIf="ingredients.length" class="ingredientList">
    <li *ngFor="let ingredient of ingredients">
      <p *ngIf="ingredient.unit.trim()" class="ingredient">
        {{
          ingredient.quantity + " " + ingredient.unit + " de " + ingredient.name
        }}
      </p>
      <p *ngIf="!ingredient.unit.trim()" class="ingredient">
        <ng-container *ngIf="ingredient.quantity == 1; else plural">
          {{ ingredient.quantity + " " + ingredient.name }}
        </ng-container>
        <ng-template #plural>
          {{ ingredient.quantity + " " + ingredient.name + "s"}}
        </ng-template>
      </p>

      <p class="deleteIngredient" (click)="deleteIngredient(ingredient.name)">
        x
      </p>
    </li>
  </ul>

  <button
    type="submit"
    [disabled]="formExtra.invalid || !ingredients.length"
    class="nextStep"
  >
    Siguiente Paso
  </button>
</form>
